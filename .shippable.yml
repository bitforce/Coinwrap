language: python

python: 2.7

branches:
    only: master

build:
    ci:
        - pip install --upgrade cmcwrap
        - pip install --upgrade pytest
        - pytest
        - coverage run cmcwrap/test/test_core.py
        - coverage xml -o shippable/codecoverage/coverage.xml

integrations:
    notification:
        integrationName: irc-integration
        type: irc
        recipients: 'chat.freenode.net#cmcwrap'
        on_pull_request: always
        on_success: always
        on_failure: always
        on_cancel: always
        on_start: never
