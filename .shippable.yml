language: python

python: 2.7

branches:
    only: master

build:
    pre_ci:
        - pip install --upgrade cmcwrap
        - pip install --upgrade pytest
    ci:
        - coverage run cmcwrap/test/test_core.py
        - coverage xml -o shippable/codecoverage/coverage.xml
        - pytest
    on_success:
        - echo 'build success'
        - ./clean.sh
    on_failure:
        - echo 'build failure'

notifications:
    email: false
